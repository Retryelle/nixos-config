{ pkgs, ... }:
{
  programs.firefox = {
    enable = true;
    package = pkgs.firefox;

    preferences = {
      "app.normandy.first_run" = false;
      "app.normandy.migrationsApplied" = 12;
      "app.normandy.user_id" = "8faed1e6-c46c-46ee-8453-0d7ff127b1ee";
      "app.shield.optoutstudies.enabled" = false;
      "app.update.lastUpdateTime.addon-background-update-timer" = 1752818540;
      "app.update.lastUpdateTime.browser-cleanup-thumbnails" = 1752832940;
      "app.update.lastUpdateTime.recipe-client-addon-run" = 1752818540;
      "app.update.lastUpdateTime.region-update-timer" = 1752530858;
      "app.update.lastUpdateTime.rs-experiment-loader-timer" = 1752530831;
      "app.update.lastUpdateTime.services-settings-poll-changes" = 1752818540;
      "app.update.lastUpdateTime.xpi-signature-verification" = 1752818540;
      "browser.aboutConfig.showWarning" = false;
      "browser.bookmarks.addedImportButton" = true;
      "browser.bookmarks.editDialog.confirmationHintShowCount" = 1;
      "browser.bookmarks.restore_default_bookmarks" = false;
      "browser.contentblocking.category" = "strict";
      "browser.contextual-services.contextId" = "{8d39aba2-a475-4360-94f0-f34697b3c02d}";
      "browser.discovery.enabled" = false;
      "browser.download.autohideButton" = false;
      "browser.download.panel.shown" = true;
      "browser.download.viewableInternally.typeWasRegistered.avif" = true;
      "browser.download.viewableInternally.typeWasRegistered.webp" = true;
      "browser.engagement.ctrlTab.has-used" = true;
      "browser.engagement.sidebar-button.has-used" = true;
      "browser.laterrun.bookkeeping.profileCreationTime" = 1752530827;
      "browser.laterrun.bookkeeping.sessionCount" = 1;
      "browser.laterrun.enabled" = true;
      "browser.migration.version" = 155;
      "browser.newtabpage.activity-stream.asrouter.userprefs.cfr.addons" = false;
      "browser.newtabpage.activity-stream.asrouter.userprefs.cfr.features" = false;
      "browser.newtabpage.activity-stream.feeds.topsites" = false;
      "browser.newtabpage.activity-stream.impressionId" = "{4729e770-8483-4800-9452-aad21e0fa47f}";
      "browser.newtabpage.activity-stream.showSponsoredCheckboxes" = false;
      "browser.newtabpage.activity-stream.showSponsoredTopSites" = false;
      "browser.newtabpage.storageVersion" = 1;
      "browser.pageActions.persistedActions" = "{\"ids\":[\"bookmark\"],\"idsInUrlbar\":[\"bookmark\"],\"idsInUrlbarPreProton\":[],\"version\":1}";
      "browser.pagethumbnails.storage_version" = 3;
      "browser.policies.applied" = true;
      "browser.preferences.experimental.hidden" = true;
      "browser.proton.toolbar.version" = 3;
      "browser.region.update.updated" = 1752530828;
      "browser.safebrowsing.provider.mozilla.lastupdatetime" = 1752818511585;
      "browser.safebrowsing.provider.mozilla.nextupdatetime" = 1752840111585;
      "browser.search.region" = "UA";
      "browser.search.serpEventTelemetryCategorization.regionEnabled" = false;
      "browser.search.suggest.enabled" = false;
      "browser.search.totalSearches" = 21;
      "browser.sessionstore.upgradeBackup.latestBuildID" = "20250707120347";
      "browser.shell.mostRecentDateSetAsDefault" = 1752818511;
      "browser.startup.couldRestoreSession.count" = 1;
      "browser.startup.homepage_override.buildID" = "20250707120347";
      "browser.startup.homepage_override.mstone" = "140.0.4";
      "browser.startup.lastColdStartupCheck" = 1752818512;
      "browser.startup.page" = 3;
      "browser.tabs.hoverPreview.showThumbnails" = false;
      "browser.tabs.inTitlebar" = 0;
      "browser.theme.content-theme" = 0;
      "browser.theme.toolbar-theme" = 0;
      "browser.toolbarbuttons.introduced.sidebar-button" = true;
      "browser.toolbars.bookmarks.visibility" = "never";
      "browser.uiCustomization.horizontalTabsBackup" = "{\"placements\":{\"widget-overflow-fixed-list\":[],\"unified-extensions-area\":[],\"nav-bar\":[\"sidebar-button\",\"back-button\",\"forward-button\",\"stop-reload-button\",\"customizableui-special-spring1\",\"vertical-spacer\",\"urlbar-container\",\"customizableui-special-spring2\",\"save-to-pocket-button\",\"downloads-button\",\"fxa-toolbar-menu-button\",\"unified-extensions-button\"],\"toolbar-menubar\":[\"menubar-items\"],\"TabsToolbar\":[\"firefox-view-button\",\"tabbrowser-tabs\",\"new-tab-button\",\"alltabs-button\"],\"vertical-tabs\":[],\"PersonalToolbar\":[\"import-button\",\"personal-bookmarks\"]},\"seen\":[\"developer-button\",\"screenshot-button\"],\"dirtyAreaCache\":[\"nav-bar\",\"vertical-tabs\",\"PersonalToolbar\"],\"currentVersion\":22,\"newElementCount\":2}";
      "browser.uiCustomization.horizontalTabstrip" = "[\"tabbrowser-tabs\",\"new-tab-button\"]";
      "browser.uiCustomization.navBarWhenVerticalTabs" = "[\"sidebar-button\",\"back-button\",\"forward-button\",\"stop-reload-button\",\"customizableui-special-spring1\",\"customizableui-special-spring4\",\"customizableui-special-spring5\",\"vertical-spacer\",\"urlbar-container\",\"customizableui-special-spring7\",\"customizableui-special-spring6\",\"customizableui-special-spring2\",\"save-to-pocket-button\",\"downloads-button\",\"unified-extensions-button\"]";
      "browser.uiCustomization.state" = "{\"placements\":{\"widget-overflow-fixed-list\":[],\"unified-extensions-area\":[\"_d7742d87-e61d-4b78-b8a1-b469842139fa_-browser-action\",\"jid1-mnnxcxisbpnsxq_jetpack-browser-action\",\"ublock0_raymondhill_net-browser-action\",\"jid1-bofifl9vbdl2zq_jetpack-browser-action\",\"jid1-zadieub7xozojw_jetpack-browser-action\",\"_446900e4-71c2-419f-a6a7-df9c091e268b_-browser-action\",\"simple-translate_sienori-browser-action\",\"addon_darkreader_org-browser-action\"],\"nav-bar\":[\"sidebar-button\",\"back-button\",\"forward-button\",\"stop-reload-button\",\"customizableui-special-spring1\",\"customizableui-special-spring4\",\"customizableui-special-spring5\",\"vertical-spacer\",\"urlbar-container\",\"customizableui-special-spring7\",\"customizableui-special-spring6\",\"customizableui-special-spring2\",\"save-to-pocket-button\",\"downloads-button\",\"unified-extensions-button\"],\"toolbar-menubar\":[\"menubar-items\"],\"TabsToolbar\":[],\"vertical-tabs\":[\"tabbrowser-tabs\"],\"PersonalToolbar\":[\"import-button\",\"personal-bookmarks\"]},\"seen\":[\"developer-button\",\"screenshot-button\",\"ublock0_raymondhill_net-browser-action\",\"jid1-mnnxcxisbpnsxq_jetpack-browser-action\",\"jid1-bofifl9vbdl2zq_jetpack-browser-action\",\"jid1-zadieub7xozojw_jetpack-browser-action\",\"_446900e4-71c2-419f-a6a7-df9c091e268b_-browser-action\",\"_d7742d87-e61d-4b78-b8a1-b469842139fa_-browser-action\",\"simple-translate_sienori-browser-action\",\"addon_darkreader_org-browser-action\"],\"dirtyAreaCache\":[\"nav-bar\",\"vertical-tabs\",\"PersonalToolbar\",\"TabsToolbar\",\"unified-extensions-area\",\"toolbar-menubar\"],\"currentVersion\":22,\"newElementCount\":7}";
      "browser.urlbar.placeholderName" = "DuckDuckGo";
      "browser.urlbar.placeholderName.private" = "DuckDuckGo";
      "browser.urlbar.quicksuggest.migrationVersion" = 2;
      "browser.urlbar.recentsearches.lastDefaultChanged" = 1752530880238;
      "browser.urlbar.showSearchSuggestionsFirst" = false;
      "browser.urlbar.showSearchTerms.enabled" = false;
      "browser.urlbar.suggest.bookmark" = false;
      "browser.urlbar.suggest.engines" = false;
      "browser.urlbar.suggest.history" = false;
      "browser.urlbar.suggest.openpage" = false;
      "browser.urlbar.suggest.quickactions" = false;
      "browser.urlbar.suggest.recentsearches" = false;
      "browser.urlbar.suggest.searches" = false;
      "browser.urlbar.suggest.topsites" = false;
      "browser.urlbar.suggest.trending" = false;
      "browser.warnOnQuitShortcut" = false;
      "captchadetection.lastSubmission" = 1752530;
      "datareporting.dau.cachedUsageProfileGroupID" = "b0bacafe-b0ba-cafe-b0ba-cafeb0bacafe";
      "datareporting.dau.cachedUsageProfileID" = "beefbeef-beef-beef-beef-beeefbeefbee";
      "datareporting.healthreport.uploadEnabled" = false;
      "datareporting.policy.dataSubmissionPolicyAcceptedVersion" = 2;
      "datareporting.policy.dataSubmissionPolicyNotifiedTime" = 1752530830235;
      "datareporting.usage.uploadEnabled" = false;
      "distribution.iniFile.exists.appversion" = "140.0.4";
      "distribution.iniFile.exists.value" = true;
      "distribution.nixos.bookmarksProcessed" = true;
      "doh-rollout.disable-heuristics" = true;
      "doh-rollout.doneFirstRun" = true;
      "doh-rollout.home-region" = "UA";
      "dom.push.userAgentID" = "75df5760c3864a7fb4e927d2520c041c";
      "dom.security.https_only_mode" = true;
      "dom.security.https_only_mode_ever_enabled" = true;
      "extensions.activeThemeID" = "{b743f56d-1cc1-4048-8ba6-f9c2ab7aa54d}";
      "extensions.blocklist.pingCountVersion" = 0;
      "extensions.colorway-builtin-themes-cleanup" = 1;
      "extensions.databaseSchema" = 37;
      "extensions.formautofill.creditCards.reauth.optout" = "MDIEEPgAAAAAAAAAAAAAAAAAAAEwFAYIKoZIhvcNAwcECKEI7cdU5yUcBAgnFQy3Rh5bdA==";
      "extensions.getAddons.cache.lastUpdate" = 1752818540;
      "extensions.getAddons.databaseSchema" = 6;
      "extensions.lastAppBuildId" = "20250707120347";
      "extensions.lastAppVersion" = "140.0.4";
      "extensions.lastPlatformVersion" = "140.0.4";
      "extensions.pendingOperations" = false;
      "extensions.pictureinpicture.enable_picture_in_picture_overrides" = true;
      "extensions.quarantinedDomains.list" = "autoatendimento.bb.com.br,ibpf.sicredi.com.br,ibpj.sicredi.com.br,internetbanking.caixa.gov.br,www.ib12.bradesco.com.br,www2.bancobrasil.com.br";
      "extensions.signatureCheckpoint" = 1;
      "extensions.ui.dictionary.hidden" = true;
      "extensions.ui.extension.hidden" = false;
      "extensions.ui.lastCategory" = "addons://list/extension";
      "extensions.ui.locale.hidden" = true;
      "extensions.ui.mlmodel.hidden" = true;
      "extensions.ui.sitepermission.hidden" = true;
      "extensions.webcompat.enable_shims" = true;
      "extensions.webcompat.perform_injections" = true;
      "extensions.webextensions.ExtensionStorageIDB.migrated.addon@darkreader.org" = true;
      "extensions.webextensions.ExtensionStorageIDB.migrated.jid1-BoFifL9Vbdl2zQ@jetpack" = true;
      "extensions.webextensions.ExtensionStorageIDB.migrated.jid1-MnnxcxisBPnSXQ@jetpack" = true;
      "extensions.webextensions.ExtensionStorageIDB.migrated.jid1-ZAdIEUB7XOzOJw@jetpack" = true;
      "extensions.webextensions.ExtensionStorageIDB.migrated.simple-translate@sienori" = true;
      "extensions.webextensions.ExtensionStorageIDB.migrated.uBlock0@raymondhill.net" = true;
      "extensions.webextensions.ExtensionStorageIDB.migrated.{446900e4-71c2-419f-a6a7-df9c091e268b}" = true;
      "extensions.webextensions.ExtensionStorageIDB.migrated.{d7742d87-e61d-4b78-b8a1-b469842139fa}" = true;
      "extensions.webextensions.uuids" = "{\"formautofill@mozilla.org\":\"13068e4b-3e6a-4ef5-beaa-b5cf19653914\",\"newtab@mozilla.org\":\"a50216a5-c9ce-4357-9c6b-200004b1f2b8\",\"pictureinpicture@mozilla.org\":\"c65c414c-c8a2-4ffe-b6ff-ac0ee9b14a11\",\"addons-search-detection@mozilla.com\":\"b0a481a8-cd68-4579-a148-71796f395270\",\"webcompat@mozilla.org\":\"9a310967-e580-48bf-b3e8-4eafebbc122d\",\"default-theme@mozilla.org\":\"fe277017-0890-4f86-9dc5-50607e1343b3\",\"firefox-compact-dark@mozilla.org\":\"17680748-3b0f-477a-ab50-cb13e14b9962\",\"uBlock0@raymondhill.net\":\"7182dd23-671a-4d6e-9175-970c7967c2ee\",\"jid1-MnnxcxisBPnSXQ@jetpack\":\"29fadddc-8973-4852-bf9f-072b9dc8d5d5\",\"jid1-BoFifL9Vbdl2zQ@jetpack\":\"1db52d67-36c6-4c30-9a6a-7675992adf36\",\"jid1-ZAdIEUB7XOzOJw@jetpack\":\"ee75ef1c-ebfd-4814-bf84-811bd7dd606d\",\"{446900e4-71c2-419f-a6a7-df9c091e268b}\":\"c2470794-bd03-4077-a155-9e37b5581e5f\",\"{d7742d87-e61d-4b78-b8a1-b469842139fa}\":\"9f713185-2a6c-430a-a5f4-a689b27ef042\",\"simple-translate@sienori\":\"2defc8f6-dc81-4c1d-8230-4e3f6836dd94\",\"addon@darkreader.org\":\"c391df94-58af-47b1-95ae-f798d3661659\"}";
      "gecko.handlerService.defaultHandlersVersion" = 1;
      "idle.lastDailyNotification" = 1752826988;
      "layout.css.prefers-color-scheme.content-override" = 0;
      "layout.spellcheckDefault" = 0;
      "media.gmp-gmpopenh264.abi" = "x86_64-gcc3";
      "media.gmp-gmpopenh264.hashValue" = "f5246bf14d038adf4ce0c4360262ab722bc3de4220f047c3d542b4c564074b4877dc8659e3125c5171c749e7ce93f20cc63777eb5e1539e960670cbc5f30ac85";
      "media.gmp-gmpopenh264.lastDownload" = 1752530859;
      "media.gmp-gmpopenh264.lastInstallStart" = 1752530858;
      "media.gmp-gmpopenh264.lastUpdate" = 1752530859;
      "media.gmp-gmpopenh264.version" = "2.6.0";
      "media.gmp-manager.buildID" = "20250707120347";
      "media.gmp-manager.lastCheck" = 1752738837;
      "media.gmp-manager.lastEmptyCheck" = 1752738837;
      "media.gmp.storage.version.observed" = 1;
      "media.videocontrols.picture-in-picture.video-toggle.first-seen-secs" = 1752572844;
      "media.videocontrols.picture-in-picture.video-toggle.has-used" = true;
      "network.dns.disablePrefetch" = true;
      "network.http.referer.disallowCrossSiteRelaxingDefault.top_navigation" = true;
      "network.http.speculative-parallel-limit" = 0;
      "network.predictor.enabled" = false;
      "network.prefetch-next" = false;
      "network.trr.excluded-domains" = ", smart.com.ua";
      "network.trr.mode" = 3;
      "network.trr.uri" = "https://mozilla.cloudflare-dns.com/dns-query";
      "nimbus.migrations.after-remote-settings-update" = 0;
      "nimbus.migrations.after-store-initialized" = 1;
      "nimbus.migrations.init-started" = 0;
      "nimbus.profileId" = "0218c473-9fea-49d7-a388-b8c0e96c49fc";
      "pdfjs.enableAltText" = true;
      "pdfjs.enableAltTextForEnglish" = true;
      "pdfjs.enabledCache.state" = true;
      "pdfjs.migrationVersion" = 2;
      "places.database.lastMaintenance" = 1752533359;
      "privacy.annotate_channels.strict_list.enabled" = true;
      "privacy.bounceTrackingProtection.hasMigratedUserActivationData" = true;
      "privacy.bounceTrackingProtection.mode" = 1;
      "privacy.clearOnShutdown_v2.formdata" = true;
      "privacy.fingerprintingProtection" = true;
      "privacy.globalprivacycontrol.enabled" = true;
      "privacy.globalprivacycontrol.was_ever_enabled" = true;
      "privacy.purge_trackers.date_in_cookie_database" = 0;
      "privacy.purge_trackers.last_purge" = 1752826988790;
      "privacy.query_stripping.enabled" = true;
      "privacy.query_stripping.enabled.pbmode" = true;
      "privacy.sanitize.clearOnShutdown.hasMigratedToNewPrefs3" = true;
      "privacy.sanitize.pending" = "[{\"id\":\"newtab-container\",\"itemsToClear\":[],\"options\":{}}]";
      "privacy.trackingprotection.consentmanager.skip.pbmode.enabled" = false;
      "privacy.trackingprotection.emailtracking.enabled" = true;
      "privacy.trackingprotection.enabled" = true;
      "privacy.trackingprotection.socialtracking.enabled" = true;
      "services.settings.blocklists.addons-bloomfilters.last_check" = 1752822118;
      "services.settings.blocklists.gfx.last_check" = 1752822118;
      "services.settings.clock_skew_seconds" = 0;
      "services.settings.last_etag" = "\"1752807432033\"";
      "services.settings.last_update_seconds" = 1752832935;
      "services.settings.main.addons-manager-settings.last_check" = 1752822118;
      "services.settings.main.anti-tracking-url-decoration.last_check" = 1752822118;
      "services.settings.main.bounce-tracking-protection-exceptions.last_check" = 1752822118;
      "services.settings.main.cfr.last_check" = 1752822118;
      "services.settings.main.cookie-banner-rules-list.last_check" = 1752822118;
      "services.settings.main.devtools-compatibility-browsers.last_check" = 1752822118;
      "services.settings.main.devtools-devices.last_check" = 1752822118;
      "services.settings.main.doh-config.last_check" = 1752822118;
      "services.settings.main.doh-providers.last_check" = 1752822118;
      "services.settings.main.fingerprinting-protection-overrides.last_check" = 1752822118;
      "services.settings.main.hijack-blocklists.last_check" = 1752822118;
      "services.settings.main.language-dictionaries.last_check" = 1752822118;
      "services.settings.main.message-groups.last_check" = 1752822118;
      "services.settings.main.moz-essential-domain-fallbacks.last_check" = 1752822118;
      "services.settings.main.newtab-wallpapers-v2.last_check" = 1752822118;
      "services.settings.main.nimbus-desktop-experiments.last_check" = 1752822118;
      "services.settings.main.nimbus-secure-experiments.last_check" = 1752822118;
      "services.settings.main.normandy-recipes-capabilities.last_check" = 1752822118;
      "services.settings.main.partitioning-exempt-urls.last_check" = 1752822118;
      "services.settings.main.password-recipes.last_check" = 1752822118;
      "services.settings.main.password-rules.last_check" = 1752822118;
      "services.settings.main.query-stripping.last_check" = 1752822118;
      "services.settings.main.remote-permissions.last_check" = 1752822118;
      "services.settings.main.search-categorization.last_check" = 1752822118;
      "services.settings.main.search-config-icons.last_check" = 1752822118;
      "services.settings.main.search-config-overrides-v2.last_check" = 1752822118;
      "services.settings.main.search-default-override-allowlist.last_check" = 1752822118;
      "services.settings.main.search-telemetry-v2.last_check" = 1752822118;
      "services.settings.main.sites-classification.last_check" = 1752822118;
      "services.settings.main.third-party-cookie-blocking-exempt-urls.last_check" = 1752822118;
      "services.settings.main.tippytop.last_check" = 1752822118;
      "services.settings.main.top-sites.last_check" = 1752822118;
      "services.settings.main.tracking-protection-lists.last_check" = 1752822118;
      "services.settings.main.translations-models.last_check" = 1752822118;
      "services.settings.main.translations-wasm.last_check" = 1752822118;
      "services.settings.main.url-classifier-exceptions.last_check" = 1752822118;
      "services.settings.main.url-classifier-skip-urls.last_check" = 1752822118;
      "services.settings.main.url-parser-default-unknown-schemes-interventions.last_check" = 1752822118;
      "services.settings.main.urlbar-persisted-search-terms.last_check" = 1752822118;
      "services.settings.main.websites-with-shared-credential-backends.last_check" = 1752822118;
      "services.settings.security-state.cert-revocations.last_check" = 1752822118;
      "services.settings.security-state.intermediates.last_check" = 1752822118;
      "services.settings.security-state.onecrl.last_check" = 1752822118;
      "services.sync.clients.lastSync" = 0;
      "services.sync.declinedEngines" = "";
      "services.sync.globalScore" = 0;
      "services.sync.nextSync" = 0;
      "sidebar.backupState" = "{\"panelOpen\":false,\"launcherWidth\":55,\"launcherExpanded\":false,\"launcherVisible\":true,\"pinnedTabsHeight\":0,\"expandedPinnedTabsHeight\":0,\"collapsedPinnedTabsHeight\":0}";
      "sidebar.new-sidebar.has-used" = true;
      "sidebar.revamp" = true;
      "sidebar.verticalTabs" = true;
      "signon.autofillForms" = false;
      "signon.firefoxRelay.feature" = "disabled";
      "signon.generation.enabled" = false;
      "signon.management.page.breach-alerts.enabled" = false;
      "signon.management.page.os-auth.optout" = "MDIEEPgAAAAAAAAAAAAAAAAAAAEwFAYIKoZIhvcNAwcECEXQnSH2ki94BAiFks6Kfk/WoQ==";
      "signon.rememberSignons" = false;
      "storage.vacuum.last.content-prefs.sqlite" = 1752642767;
      "storage.vacuum.last.index" = 2;
      "storage.vacuum.last.places.sqlite" = 1752533359;
      "toolkit.profiles.storeID" = "e6e38df5";
      "toolkit.startup.last_success" = 1752818509;
      "toolkit.telemetry.cachedClientID" = "c0ffeec0-ffee-c0ff-eec0-ffeec0ffeec0";
      "toolkit.telemetry.cachedProfileGroupID" = "decafdec-afde-cafd-ecaf-decafdecafde";
      "toolkit.telemetry.previousBuildID" = "20250707120347";
      "toolkit.telemetry.reportingpolicy.firstRun" = false;
      "trailhead.firstrun.didSeeAboutWelcome" = true;
    };
  };
}
